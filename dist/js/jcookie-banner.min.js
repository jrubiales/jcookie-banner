/*! jcookie-banner 1.0.0 | Juan Fran Rubiales | https://github.com/jrubiales/jcookie-banner/blob/master/LICENSE */
!function(a){"use strict";var b=.001,c="jcookie-banner",d="jcookie-banner-header",e="jcookie-banner-body",f=a,g=f.document;a.cookies={set:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}g.cookie=a+"="+b+d+"; path=/"},get:function(a){for(var b=a+"=",c=g.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},erase:function(a){this.set(a,"",-1)},exists:function(a){return null!==this.get(a)}},a.JCookieBanner={defaults:{themeClass:"jcb-dark",mode:"permissive",headerAlign:"left",bannerPosition:"bottom",autoHide:!0,showBannerOnce:!1,timeOut:10,scriptLoader:"js/jcookie-banner-loader.js",cookie:{name:"jcookie",expire:365},locale:"en_GB",translation:null,localeDir:"locale",onAcceptClick:function(){},onDisagreeClick:function(){}},$eHeight:0,$cBanner:null,$cBannerBody:null,$cBannerHeader:null,timer:null,initialize:function(g){if(this.config=$.extend({},this.defaults,g),"bottom"!==this.config.bannerPosition&&"top"!==this.config.bannerPosition)throw"Valor "+this.config.bannerPosition+' para el atributo "bannerPosition" no v치lido';if("left"!==this.config.headerAlign&&"right"!==this.config.headerAlign)throw"Valor "+this.config.headerAlign+' para el atributo "headerAlight" no v치lido';if("permissive"!==this.config.mode&&"strict"!==this.config.mode)throw"Valor "+this.config.mode+' para el atributo "mode" no v치lido';if(this.$cBanner=$("#"+c),a.cookies.exists(this.config.cookie.name))return this.$cBanner.hide(),void this.loadScript(this.config.scriptLoader);this.$cBanner.addClass(this.config.themeClass),"bottom"===this.config.bannerPosition?(this.$cBanner.css("bottom",0),this.$cBanner.append('<div id="'+d+'" class="header-top"></span></div>').append('<div class="clearfix"></div>').append('<div id="'+e+'"></div>')):"top"===this.config.bannerPosition&&(this.$cBanner.css("top",0),this.$cBanner.append('<div id="'+e+'"></span></div>').append('<div class="clearfix"></div>').append('<div id="'+d+'" class="header-bottom"></div>')),this.$cBannerHeader=$("#"+d),"left"===this.config.headerAlign?this.$cBannerHeader.addClass("left-header"):"right"===this.config.headerAlign&&this.$cBannerHeader.addClass("right-header"),this.$cBannerBody=$("#"+e);var h=this.config.locale.substring(0,2);this.loadTranslation(function(b){var c=a.JCookieBanner;c.$cBannerHeader.html('<span class="title"><a href="#">'+b.title+"</a>"),c.$cBannerHeader.find("a").on("click",function(a){return c.onHeaderClick(),!1}),"permissive"===c.config.mode?(c.$cBannerBody.html("<p>"+b.permissive_text+' <a href="#">'+b.here+'</a> - <a href="#" class="lAgree">'+b.understood+"</a></p>"),c.onPermissiveAccept(),$(".lAgree").on("click",function(){c.config.onAcceptClick(),c.$cBanner.hide()})):"strict"===c.config.mode&&(c.$cBannerBody.html("<p>"+b.strict_text+' <a href="#">'+b.here+'</a> - <a href="#" class="lAgree">'+b.agree+'</a> | <a href="#" class="lDisagree">'+b.disagree+"</a></p>"),$(".lAgree").on("click",function(){c.onStrictAccept()}),$(".lDisagree").on("click",function(){c.onStrictDisagree()}))},h),this.config.showBannerOnce?setTimeout(function(){a.JCookieBanner.$cBanner.hide()},this.config.timeOut/b):this.config.autoHide&&(this.timer=this.autoHide()),$(f).on("resize",function(b){a.JCookieBanner.onResize()})},onHeaderClick:function(){this.$cBanner.hasClass("jcb-hide")?this.show():this.hide()},show:function(){this.$cBanner.removeClass("jcb-hide").animate(function(){var b=a.JCookieBanner;return"top"===b.config.bannerPosition?{top:"+="+b.$cBannerBody.height()}:"bottom"===b.config.bannerPosition?{bottom:"+="+b.$cBannerBody.height()}:void 0}(),100),this.config.autoHide&&(this.timer=this.autoHide())},hide:function(){this.$cBanner.addClass("jcb-hide").animate(function(){var b=a.JCookieBanner;return"top"===b.config.bannerPosition?{top:"-="+b.$cBannerBody.height()}:"bottom"===b.config.bannerPosition?{bottom:"-="+b.$cBannerBody.height()}:void 0}(),100),this.config.autoHide&&clearTimeout(this.timer)},autoHide:function(){return setTimeout(function(){a.JCookieBanner.hide()},this.config.timeOut/b)},onResize:function(){this.$eHeight=this.$cBannerHeader.height()+this.$cBannerBody.height(),this.$cBanner.css("height",this.$eHeight),this.$cBanner.hasClass("jcb-hide")?this.$cBanner.css(this.config.bannerPosition,-this.$cBannerBody.height()):this.$cBanner.css(this.config.bannerPosition,0)},onPermissiveAccept:function(){this.loadScript(this.config.scriptLoader),a.cookies.set(this.config.cookie.name,"accept",this.config.cookie.expire)},onStrictAccept:function(){this.onPermissiveAccept(),this.config.onAcceptClick(),this.$cBanner.hide()},onStrictDisagree:function(){this.$cBanner.hide(),this.config.onDisagreeClick()},loadTranslation:function(a,b){if(null===this.config.translation){var c=this.config.localeDir+"/"+b+"/"+this.config.locale+".json";$.get(c,function(b){a(b)}).fail(function(){throw"Error al cargar la traducci칩n"})}else a(this.config.translation)},loadScript:function(a){var b=g.createElement("script");b.type="text/javascript",b.async=!0,b.src=a;var c=g.getElementsByTagName("head")[0];c.appendChild(b)}}}(window);